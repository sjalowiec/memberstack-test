---
/**
 * QuickScan.astro - Quick scan panel for foundations
 * Displays 2-3 columns: What you'll be able to do, What you need, Common snags
 */
interface Props {
  whatYoullBeAbleToDo?: string[];
  youNeed?: string[];
  commonSnags?: string[];
}

const { whatYoullBeAbleToDo = [], youNeed = [], commonSnags = [] } = Astro.props;

const hasContent = whatYoullBeAbleToDo.length > 0 || youNeed.length > 0 || commonSnags.length > 0;
---

{hasContent && (
  <section class="quick-scan-panel" data-testid="section-quick-scan">
    <h2 class="quick-scan-heading" data-testid="heading-quick-scan">Quick Scan</h2>
    <div class="quick-scan-grid">
      {whatYoullBeAbleToDo.length > 0 && (
        <div class="quick-scan-card" data-testid="card-what-youll-be-able-to-do">
          <h3 class="quick-scan-card-title">
            <svg class="quick-scan-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
              <polyline points="22 4 12 14.01 9 11.01" />
            </svg>
            You'll be able to…
          </h3>
          <ul class="quick-scan-list">
            {whatYoullBeAbleToDo.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        </div>
      )}

      {youNeed.length > 0 && (
        <div class="quick-scan-card" data-testid="card-you-need">
          <h3 class="quick-scan-card-title">
            <svg class="quick-scan-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
              <line x1="3" y1="9" x2="21" y2="9" />
              <line x1="9" y1="21" x2="9" y2="9" />
            </svg>
            You'll need…
          </h3>
          <ul class="quick-scan-list">
            {youNeed.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        </div>
      )}

      {commonSnags.length > 0 && (
        <div class="quick-scan-card quick-scan-card-warning" data-testid="card-common-snags">
          <h3 class="quick-scan-card-title">
            <svg class="quick-scan-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z" />
              <line x1="12" y1="9" x2="12" y2="13" />
              <line x1="12" y1="17" x2="12.01" y2="17" />
            </svg>
            Common snags
          </h3>
          <ul class="quick-scan-list">
            {commonSnags.map((item) => (
              <li>{item}</li>
            ))}
          </ul>
        </div>
      )}
    </div>
  </section>
)}

<style>
  .quick-scan-panel {
    background: linear-gradient(135deg, #f5f8f0 0%, #e7f0dc 100%);
    border-radius: 16px;
    padding: 2rem;
    margin-bottom: 2rem;
  }

  .quick-scan-heading {
    font-size: 1.25rem;
    font-weight: 700;
    color: #2c3a57;
    margin: 0 0 1.5rem 0;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  .quick-scan-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 1.5rem;
  }

  .quick-scan-card {
    background: white;
    border-radius: 12px;
    padding: 1.5rem;
    box-shadow: 0 2px 8px rgba(82, 104, 45, 0.08);
  }

  .quick-scan-card-warning {
    background: #fffbf0;
    border: 1px solid #f0d090;
  }

  .quick-scan-card-title {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 1rem;
    font-weight: 600;
    color: #52682d;
    margin: 0 0 1rem 0;
  }

  .quick-scan-icon {
    width: 20px;
    height: 20px;
    flex-shrink: 0;
  }

  .quick-scan-list {
    list-style: none;
    padding: 0;
    margin: 0;
  }

  .quick-scan-list li {
    position: relative;
    padding-left: 1.25rem;
    font-size: 0.95rem;
    line-height: 1.6;
    color: #2c3a57;
    margin-bottom: 0.5rem;
  }

  .quick-scan-list li::before {
    content: "•";
    position: absolute;
    left: 0;
    color: #52682d;
    font-weight: bold;
  }

  .quick-scan-list li:last-child {
    margin-bottom: 0;
  }

  @media (max-width: 768px) {
    .quick-scan-panel {
      padding: 1.5rem;
    }
    
    .quick-scan-grid {
      grid-template-columns: 1fr;
    }
  }
</style>
